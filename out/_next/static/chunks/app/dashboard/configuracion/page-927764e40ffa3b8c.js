(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[131],{2799:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>g});var t=s(5155),i=s(2115);function n(e){let{logs:a}=e;return(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-botanical-900",children:"Auditor\xeda reciente"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-botanical-600",children:"Registro simulado de acciones sensibles."}),(0,t.jsx)("div",{className:"mt-4 space-y-3 text-sm text-botanical-700",children:0===a.length?(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-botanical-200 bg-botanical-50 p-4 text-sm text-botanical-600",children:"Sin eventos recientes."}):a.map(e=>(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 px-4 py-3",children:[(0,t.jsx)("p",{className:"text-xs text-botanical-500",children:new Date(e.createdAt).toLocaleString()}),(0,t.jsx)("p",{className:"mt-1 font-semibold text-botanical-900",children:e.summary}),(0,t.jsxs)("p",{className:"text-xs text-botanical-600",children:[e.actor," \xb7 ",e.entityType," #",e.entityId]})]},e.id))})]})}function l(e){let{countries:a}=e;return(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-botanical-900",children:"Pa\xedses activos"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-botanical-600",children:"Configuraci\xf3n multi-pa\xeds (solo vista)."}),(0,t.jsx)("div",{className:"mt-4 space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-2xl border border-botanical-100 bg-botanical-50 px-4 py-3 text-sm text-botanical-800",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{className:"text-xs font-semibold text-botanical-600",children:e.code})]},e.id))})]})}function d(e){let{roles:a}=e;return(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-botanical-900",children:"Roles del sistema"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-botanical-600",children:"Vista general de permisos por rol."}),(0,t.jsx)("div",{className:"mt-4 space-y-4",children:a.map(e=>(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 p-4",children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-botanical-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-botanical-600",children:e.description}),(0,t.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:e.permissions.map(e=>(0,t.jsx)("span",{className:"rounded-full bg-white px-3 py-1 text-xs text-botanical-700",children:e},e))})]},e.id))})]})}function r(e){let{summary:a}=e;return a?(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-botanical-900",children:"Seguridad"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-botanical-600",children:"Resumen general del estado de seguridad."}),(0,t.jsxs)("div",{className:"mt-4 rounded-2xl border border-botanical-100 bg-botanical-50 p-4 text-sm text-botanical-700",children:[(0,t.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-botanical-500",children:"\xdaltima auditor\xeda"}),(0,t.jsx)("p",{className:"mt-2 font-semibold text-botanical-900",children:new Date(a.lastAuditAt).toLocaleDateString()})]}),(0,t.jsx)("div",{className:"mt-4 space-y-2 text-sm text-botanical-700",children:a.notes.map(e=>(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"mt-1 h-2 w-2 rounded-full bg-botanical-500"}),(0,t.jsx)("p",{children:e})]},e))})]}):(0,t.jsx)("div",{className:"rounded-2xl border border-dashed border-botanical-200 bg-white p-6 text-sm text-botanical-600",children:"Cargando resumen de seguridad..."})}function o(){return(0,t.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-botanical-900",children:"Ajustes generales"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-botanical-600",children:"Secci\xf3n preparada para configuraciones futuras."}),(0,t.jsxs)("div",{className:"mt-4 grid gap-3 text-sm text-botanical-700",children:[(0,t.jsx)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 px-4 py-3",children:"Notificaciones internas (pendiente)"}),(0,t.jsx)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 px-4 py-3",children:"SLA por pa\xeds (pendiente)"}),(0,t.jsx)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 px-4 py-3",children:"Automatizaciones comerciales (pendiente)"})]})]})}var c=s(4988);let x=[{id:"co",name:"Colombia",code:"CO"},{id:"mx",name:"M\xe9xico",code:"MX"},{id:"cl",name:"Chile",code:"CL"},{id:"pe",name:"Per\xfa",code:"PE"}],m=[{id:"role-1",name:"superadmin",description:"Control global del sistema y configuraciones generales.",permissions:["Todos los pa\xedses","Gesti\xf3n de usuarios","Auditor\xeda"]},{id:"role-2",name:"admin",description:"Gesti\xf3n operativa del pa\xeds asignado.",permissions:["Leads del pa\xeds","Campa\xf1as locales","M\xe9tricas"]},{id:"role-3",name:"agente",description:"Operaci\xf3n diaria sobre leads asignados.",permissions:["Leads asignados","Tareas","Mensajes manuales"]}],b={lastAuditAt:new Date(Date.now()-3456e5).toISOString(),notes:["RLS pendiente de implementaci\xf3n final.","Se revisaron permisos b\xe1sicos por rol."]},p=async()=>[...m],u=async()=>[...x],h=async()=>({...b});function g(){let[e,a]=(0,i.useState)([]),[s,x]=(0,i.useState)([]),[m,b]=(0,i.useState)(null),[g,j]=(0,i.useState)([]);return(0,i.useEffect)(()=>{(async()=>{let[e,s,t,i]=await Promise.all([p(),u(),h(),(0,c.l)()]);a(e),x(s),b(t),j(i)})()},[]),(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-botanical-900",children:"Configuraci\xf3n"}),(0,t.jsx)("p",{className:"text-sm text-botanical-600",children:"Ajustes generales, roles y pa\xedses activos."})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1.2fr_1fr]",children:[(0,t.jsx)(d,{roles:e}),(0,t.jsx)(l,{countries:s})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_1fr]",children:[(0,t.jsx)(r,{summary:m}),(0,t.jsx)(o,{})]}),(0,t.jsx)(n,{logs:g})]})}},3517:(e,a,s)=>{Promise.resolve().then(s.bind(s,2799))},4988:(e,a,s)=>{"use strict";s.d(a,{N:()=>i,l:()=>n});let t=[{id:"audit-001",action:"lead_status_change",actor:"Agente CO-01",entityId:"lead-001",entityType:"lead",createdAt:new Date(Date.now()-72e5).toISOString(),summary:"Estado actualizado a Contactado"}],i=async function(e,a,s,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Sistema",l={id:"audit-".concat(Math.random().toString(36).slice(2,7)),action:e,actor:n,entityType:a,entityId:s,summary:i,createdAt:new Date().toISOString()};return t.unshift(l),l},n=async()=>[...t]}},e=>{var a=a=>e(e.s=a);e.O(0,[441,684,358],()=>a(3517)),_N_E=e.O()}]);