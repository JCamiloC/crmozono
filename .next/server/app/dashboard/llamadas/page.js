(()=>{var e={};e.id=501,e.ids=[501],e.modules={30:(e,t,a)=>{"use strict";a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\NITRO\\\\Desktop\\\\crmozono\\\\components\\\\layout\\\\DashboardShell.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\NITRO\\Desktop\\crmozono\\components\\layout\\DashboardShell.tsx","default")},455:(e,t,a)=>{"use strict";a.d(t,{O1:()=>n,dY:()=>r,fj:()=>o});let s=[{id:"call-001",leadId:"lead-001",leadName:"Mar\xeda Torres",leadPhone:"+57 300 123 4567",agentName:"Agente CO-01",startedAt:new Date(Date.now()-3e6).toISOString(),endedAt:new Date(Date.now()-24e5).toISOString(),durationMinutes:10,result:"interesado",notes:"Solicita m\xe1s informaci\xf3n sobre instalaci\xf3n."},{id:"call-002",leadId:"lead-002",leadName:"Jos\xe9 Mart\xednez",leadPhone:"+52 55 2345 6789",agentName:"Agente MX-03",startedAt:new Date(Date.now()-54e5).toISOString(),endedAt:new Date(Date.now()-492e4).toISOString(),durationMinutes:8,result:"no_contesta",notes:"No respondi\xf3, reintentar ma\xf1ana."},{id:"call-003",leadId:"lead-003",leadName:"Carolina R\xedos",leadPhone:"+56 9 8123 4567",agentName:"Agente CL-02",startedAt:new Date(Date.now()-9e6).toISOString(),endedAt:new Date(Date.now()-828e4).toISOString(),durationMinutes:12,result:"venta",notes:"Venta cerrada, enviar garant\xeda."}],n=async()=>[...s],r=async e=>s.filter(t=>t.leadId===e),o=async(e,t,a)=>{let n=s.find(t=>t.id===e);if(!n)throw Error("Llamada no encontrada");return n.result=t,n.notes=a,n.endedAt=new Date().toISOString(),n.durationMinutes=Math.max(1,n.durationMinutes),n}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1399:(e,t,a)=>{Promise.resolve().then(a.bind(a,30))},1495:()=>{},1929:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=a(5239),n=a(8088),r=a(8170),o=a.n(r),l=a(893),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);a.d(t,i);let d={children:["",{children:["dashboard",{children:["llamadas",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9706)),"C:\\Users\\NITRO\\Desktop\\crmozono\\app\\dashboard\\llamadas\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,3249)),"C:\\Users\\NITRO\\Desktop\\crmozono\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8014)),"C:\\Users\\NITRO\\Desktop\\crmozono\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["C:\\Users\\NITRO\\Desktop\\crmozono\\app\\dashboard\\llamadas\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/llamadas/page",pathname:"/dashboard/llamadas",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2704:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3236:(e,t,a)=>{"use strict";a.d(t,{N:()=>n,l:()=>r});let s=[{id:"audit-001",action:"lead_status_change",actor:"Agente CO-01",entityId:"lead-001",entityType:"lead",createdAt:new Date(Date.now()-72e5).toISOString(),summary:"Estado actualizado a Contactado"}],n=async(e,t,a,n,r="Sistema")=>{let o={id:`audit-${Math.random().toString(36).slice(2,7)}`,action:e,actor:r,entityType:t,entityId:a,summary:n,createdAt:new Date().toISOString()};return s.unshift(o),o},r=async()=>[...s]},3247:(e,t,a)=>{Promise.resolve().then(a.bind(a,7008))},3249:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(7413),n=a(30);function r({children:e}){return(0,s.jsx)(n.default,{children:e})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4191:(e,t,a)=>{Promise.resolve().then(a.bind(a,9706))},4967:(e,t,a)=>{Promise.resolve().then(a.bind(a,9171))},6167:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6444,23)),Promise.resolve().then(a.t.bind(a,6042,23)),Promise.resolve().then(a.t.bind(a,8170,23)),Promise.resolve().then(a.t.bind(a,9477,23)),Promise.resolve().then(a.t.bind(a,9345,23)),Promise.resolve().then(a.t.bind(a,2089,23)),Promise.resolve().then(a.t.bind(a,6577,23)),Promise.resolve().then(a.t.bind(a,1307,23))},6431:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6346,23)),Promise.resolve().then(a.t.bind(a,7924,23)),Promise.resolve().then(a.t.bind(a,5656,23)),Promise.resolve().then(a.t.bind(a,99,23)),Promise.resolve().then(a.t.bind(a,8243,23)),Promise.resolve().then(a.t.bind(a,8827,23)),Promise.resolve().then(a.t.bind(a,2763,23)),Promise.resolve().then(a.t.bind(a,7173,23))},7008:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(687),n=a(3210);function r({onToggleSidebar:e}){return(0,s.jsxs)("header",{className:"flex h-16 items-center justify-between border-b border-botanical-100 bg-white/90 px-4 backdrop-blur sm:px-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("button",{type:"button",onClick:e,className:"inline-flex items-center justify-center rounded-lg border border-botanical-200 bg-botanical-50 px-3 py-2 text-xs font-semibold text-botanical-700 shadow-sm transition hover:bg-botanical-100 lg:hidden",children:"Men\xfa"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-botanical-900",children:"SuperOzono CRM"}),(0,s.jsx)("p",{className:"text-xs text-botanical-600",children:"CRM de ventas multi-pa\xeds"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"hidden text-right text-xs text-botanical-700 sm:block",children:[(0,s.jsx)("p",{className:"font-semibold text-botanical-900",children:"Usuario autenticado"}),(0,s.jsx)("p",{className:"text-botanical-600",children:"admin@crm.local"})]}),(0,s.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-botanical-200 text-xs font-semibold text-botanical-800",children:"AD"})]})]})}var o=a(5814),l=a.n(o);let i=[{label:"Dashboard",href:"/dashboard"},{label:"Leads",href:"/dashboard/leads"},{label:"Tareas",href:"/dashboard/tareas"},{label:"Llamadas",href:"/dashboard/llamadas"},{label:"Mensajes",href:"/dashboard/mensajes"},{label:"Campa\xf1as",href:"/dashboard/campanas"},{label:"Configuraci\xf3n",href:"/dashboard/configuracion"}];function d({isOpen:e,onClose:t}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:`fixed inset-0 z-40 bg-black/20 transition-opacity lg:hidden ${e?"opacity-100":"pointer-events-none opacity-0"}`,onClick:t}),(0,s.jsxs)("aside",{className:`fixed inset-y-0 left-0 z-50 w-72 border-r border-botanical-100 bg-white px-6 py-8 shadow-soft transition-transform lg:static lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}`,children:[(0,s.jsxs)("div",{className:"mb-8 flex items-center gap-3",children:[(0,s.jsx)("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-botanical-600 text-sm font-semibold text-white",children:"SO"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-botanical-900",children:"SuperOzono"}),(0,s.jsx)("p",{className:"text-xs text-botanical-600",children:"CRM de ventas"})]})]}),(0,s.jsx)("nav",{className:"flex flex-col gap-2",children:i.map(e=>(0,s.jsx)(l(),{href:e.href,className:"rounded-xl px-3 py-2 text-sm font-medium text-botanical-800 transition hover:bg-botanical-50 hover:text-botanical-900",onClick:t,children:e.label},e.href))}),(0,s.jsxs)("div",{className:"mt-10 rounded-2xl border border-botanical-100 bg-botanical-50 p-4 text-xs text-botanical-700",children:[(0,s.jsx)("p",{className:"font-semibold text-botanical-900",children:"Estado"}),(0,s.jsx)("p",{className:"mt-2",children:"Multi-pa\xeds activo"})]})]})]})}function c({children:e}){let[t,a]=(0,n.useState)(!1);return(0,s.jsxs)("div",{className:"flex min-h-screen bg-botanical-50",children:[(0,s.jsx)(d,{isOpen:t,onClose:()=>a(!1)}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,s.jsx)(r,{onToggleSidebar:()=>a(e=>!e)}),(0,s.jsx)("main",{className:"flex-1 px-4 py-6 sm:px-6 lg:px-8",children:(0,s.jsx)("div",{className:"rounded-2xl bg-white p-6 shadow-card",children:e})})]})]})}},8014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r,metadata:()=>n});var s=a(7413);a(2704);let n={title:"SuperOzono CRM",description:"CRM de ventas multi-pa\xeds con WhatsApp Business API"};function r({children:e}){return(0,s.jsx)("html",{lang:"es",children:(0,s.jsx)("body",{className:"min-h-screen bg-white text-slate-900",children:e})})}},8367:()=>{},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9171:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>m});var s=a(687),n=a(3210);let r={venta:"bg-emerald-100 text-emerald-700",interesado:"bg-botanical-100 text-botanical-700",no_interesado:"bg-rose-100 text-rose-700",no_contesta:"bg-amber-100 text-amber-700",cortada:"bg-slate-200 text-slate-700",numero_incorrecto:"bg-slate-200 text-slate-700"},o={venta:"Venta efectiva",interesado:"Cliente interesado",no_interesado:"No interesado",no_contesta:"No contesta",cortada:"Llamada cortada",numero_incorrecto:"N\xfamero incorrecto"};function l({result:e}){return(0,s.jsx)("span",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${r[e]}`,children:o[e]})}function i({call:e,onRegisterResult:t}){return e?(0,s.jsxs)("div",{className:"flex flex-col gap-6 rounded-2xl border border-botanical-100 bg-white p-6 shadow-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-botanical-500",children:"Llamada"}),(0,s.jsx)("h2",{className:"mt-2 text-2xl font-semibold text-botanical-900",children:e.leadName}),(0,s.jsx)("p",{className:"text-sm text-botanical-600",children:e.leadPhone})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,s.jsx)(l,{result:e.result}),(0,s.jsxs)("span",{className:"text-xs text-botanical-600",children:["Duraci\xf3n: ",e.durationMinutes," min"]})]}),(0,s.jsxs)("div",{className:"grid gap-4 text-sm text-botanical-700 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-botanical-500",children:"Agente"}),(0,s.jsx)("p",{className:"mt-2 font-semibold text-botanical-900",children:e.agentName})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.18em] text-botanical-500",children:"Fecha"}),(0,s.jsx)("p",{className:"mt-2 font-semibold text-botanical-900",children:new Date(e.startedAt).toLocaleDateString()})]})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-botanical-100 bg-botanical-50 p-4 text-sm text-botanical-700",children:[(0,s.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-botanical-500",children:"Observaciones"}),(0,s.jsx)("p",{className:"mt-2 text-sm font-semibold text-botanical-900",children:e.notes??"Sin observaciones"})]}),(0,s.jsxs)("form",{className:"space-y-3",onSubmit:e=>{e.preventDefault();let a=e.currentTarget,s=new FormData(a);t(s.get("result"),String(s.get("notes")??"")),a.reset()},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-botanical-700",children:"Resultado"}),(0,s.jsxs)("select",{name:"result",defaultValue:e.result,className:"mt-2 w-full rounded-xl border border-botanical-100 px-3 py-2 text-sm focus:border-botanical-400 focus:outline-none focus:ring-2 focus:ring-botanical-100",children:[(0,s.jsx)("option",{value:"venta",children:"Venta efectiva"}),(0,s.jsx)("option",{value:"interesado",children:"Cliente interesado"}),(0,s.jsx)("option",{value:"no_interesado",children:"No interesado"}),(0,s.jsx)("option",{value:"no_contesta",children:"No contesta"}),(0,s.jsx)("option",{value:"cortada",children:"Llamada cortada"}),(0,s.jsx)("option",{value:"numero_incorrecto",children:"N\xfamero incorrecto"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-semibold text-botanical-700",children:"Notas"}),(0,s.jsx)("textarea",{name:"notes",rows:3,className:"mt-2 w-full rounded-xl border border-botanical-100 px-3 py-2 text-sm focus:border-botanical-400 focus:outline-none focus:ring-2 focus:ring-botanical-100",placeholder:"Observaciones de la llamada"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full rounded-xl bg-botanical-700 px-4 py-2 text-sm font-semibold text-white shadow-soft transition hover:bg-botanical-800",children:"Registrar resultado"})]})]}):(0,s.jsx)("div",{className:"rounded-2xl border border-dashed border-botanical-200 bg-white p-6 text-sm text-botanical-600",children:"Selecciona una llamada para ver detalles."})}function d({calls:e,selectedId:t,onSelect:a}){return(0,s.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>a(e.id),className:`flex w-full items-center justify-between gap-3 rounded-2xl border px-4 py-4 text-left transition ${t===e.id?"border-botanical-200 bg-botanical-50":"border-botanical-100 bg-white hover:bg-botanical-50/70"}`,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-semibold text-botanical-900",children:e.leadName}),(0,s.jsx)("p",{className:"text-xs text-botanical-600",children:e.leadPhone})]}),(0,s.jsx)(l,{result:e.result})]},e.id))})}var c=a(455),x=a(3236);function m(){let[e,t]=(0,n.useState)([]),[a,r]=(0,n.useState)(null),o=(0,n.useMemo)(()=>e.find(e=>e.id===a)??null,[e,a]),l=async(e,a)=>{if(!o)return;let s=await (0,c.fj)(o.id,e,a);t(e=>e.map(e=>e.id===s.id?s:e)),await (0,x.N)("call_result_registered","call",s.id,`Resultado registrado: ${e}`,"Agente")};return(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-botanical-900",children:"Llamadas"}),(0,s.jsx)("p",{className:"text-sm text-botanical-600",children:"Registro de llamadas y formulario post-llamada (simulado)."})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-[1fr_1.6fr]",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.2em] text-botanical-500",children:"Historial reciente"}),(0,s.jsx)(d,{calls:e,selectedId:a,onSelect:r})]}),(0,s.jsx)(i,{call:o,onRegisterResult:l})]})]})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9706:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\NITRO\\\\Desktop\\\\crmozono\\\\app\\\\dashboard\\\\llamadas\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\NITRO\\Desktop\\crmozono\\app\\dashboard\\llamadas\\page.tsx","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[825,814],()=>a(1929));module.exports=s})();